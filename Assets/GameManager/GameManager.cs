using System.Collections;
using System.Collections.Generic;
using UnityEngine;

//-----------------------------------------------------------------------------
//! [制作者]		小野龍大
//!	[最終更新日]	2021/10/12
//! [内容]		ゲームを制御するクラスを橋渡しをするクラス
//-----------------------------------------------------------------------------
public class GameManager : MonoBehaviour
{
    //-----------------------------------------------------------------------------
    //!	private変数
    //-----------------------------------------------------------------------------
    [SerializeField] StackTree stackTree = null;       // StackTreeがアタッチされているオブジェクト
    [SerializeField] NetworkManager networkManager = null;     // ネットワークマネージャ
    bool playing = false;

    //-----------------------------------------------------------------------------
    //!	public変数
    //-----------------------------------------------------------------------------


    //-----------------------------------------------------------------------------
    //! [内容]		StackTreeのSet
    //-----------------------------------------------------------------------------
    void SetStackTree(ref StackTree _stackTree)
    {
        stackTree = _stackTree;
    }

    //-----------------------------------------------------------------------------
    //! [内容]		NetworkManagerのSet
    //-----------------------------------------------------------------------------
    void SetNetworkManager(ref NetworkManager _networkManager)
    {
        networkManager = _networkManager;
    }

    //-----------------------------------------------------------------------------
    //! [内容]		GameManagerがゲーム開始の準備ができているか確認する
    //! [return]    準備ができていたらtrue,できていなかったらfalse 
    //-----------------------------------------------------------------------------
    bool IsReady()
    {
        if(!stackTree)
        {
            return false;
        }

        if(!networkManager)
        {
            return false;
        }

        return true;
    }

    //-----------------------------------------------------------------------------
    //! [内容]		現在プレイ中か判断する
    //! [return]   プレイ中ならtrue,そうじゃなかったらfalse 
    //-----------------------------------------------------------------------------
    bool IsPlaying()
    {
        return playing;
    }

    //-----------------------------------------------------------------------------
    //! [内容]		ゲーム開始時にコール
    //-----------------------------------------------------------------------------
    void GameStart()
    {

        // プレイ中フラグを立てる
        playing = true;
    }

    //-----------------------------------------------------------------------------
    //! [内容]		ゲーム開終了時にコール
    //-----------------------------------------------------------------------------
    void GameEnd()
    {

        // プレイ中フラグを折る
        playing = false;
    }

    //-----------------------------------------------------------------------------
    //! [内容]		プレイヤー入室時にコール
    //-----------------------------------------------------------------------------
    void EnterPlayer()
    {

    }

    //-----------------------------------------------------------------------------
    //! [内容]		プレイヤー退出時にコール
    //-----------------------------------------------------------------------------
    void ExitPlayer()
    {

    }

    //-----------------------------------------------------------------------------
    //! [内容]		stackTreeの参照を返す
    //-----------------------------------------------------------------------------
    ref StackTree GetStackTree()
    {
        return ref stackTree;
    }
}
